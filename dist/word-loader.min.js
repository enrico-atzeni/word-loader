window.WordLoader=function(e,o){o=o||{};var a=this,i=0;maxAvoidPerIteration=10,avoidAreaCache=null;const n={timeout:300,fadingDuration:200,overlayFadingDuration:200,forceStopTimeout:2e4,maxWords:50,wordClasses:"word-word",rangeAvailableFromCenter:50,rangeDistanceFalseRandom:10,words:!1,minimumTime:0,debug:!1,hideOn:"load",avoid:null};var t,r,d={};for(var s in n)d[s]=s in o?o[s]:n[s];if(d.rangeDistanceFalseRandom&&d.rangeAvailableFromCenter/2<=1.2*d.rangeDistanceFalseRandom&&(d.rangeDistanceFalseRandom=0,console.error("Cannot enable rangeDistanceFalseRandom because too close to rangeAvailableFromCenter")),"object"==typeof e&&!1 in e)return console.error(e,"must be an ID or a valid DOM element"),!1;if("string"==typeof e&&(e=document.getElementById(e)),e){if(!d.words){if(words_json=e.getAttribute("words"))try{d.words=JSON.parse(words_json)}catch(e){console.error(e)}d.words||("object"==typeof wl_words&&wl_words.length?d.words=wl_words:d.words=["You","need","to","insert","some","words"])}d.words.length>d.maxWords&&d.words.splice(d.maxWords);for(var l=[],m=[],c=!1,h=!1,u=0;u<d.words.length;u++){var v=d.words[u];m[v]=(t=v,r=void 0,(r=document.createElement("span")).innerText=t,r.className=d.wordClasses,r),e.appendChild(m[v])}var w=d.fadingDuration/1e3,f=document.createElement("style");f.type="text/css",f.innerHTML="\n        #word-loader ."+d.wordClasses.replace(/ /g,".")+" {\n            transition: opacity "+w+"s ease, transform "+w+"s ease;\n            -moz - transition: opacity "+w+"s ease, transform "+w+"s ease;\n            -webkit - transition: opacity "+w+"s ease, transform "+w+"s ease;\n        }\n        #word-loader {\n            transition: "+w+"s ease opacity;\n            -moz - transition: "+w+"s ease opacity;\n            -webkit - transition: "+w+"s ease opacity;\n        }\n        #word-loader.hidden {\n            opacity: 0;\n        }",document.head.appendChild(f),T();var g,p,y,b,C=setTimeout(this.stopLoop,d.forceStopTimeout),x=!1;if("load"==d.hideOn?window.addEventListener(d.hideOn,A):document.addEventListener(d.hideOn,A),d.minimumTime)try{d.minimumTime=parseInt(d.minimumTime),this.startedAt=(new Date).getTime()}catch(e){console.error(e),d.minimumTime=0}if(d.avoid)try{g=d.avoid.center.x.indexOf("%")?parseInt(d.avoid.center.x):D(d.avoid.center.x),p=d.avoid.center.y.indexOf("%")?parseInt(d.avoid.center.y):D(d.avoid.center.y),y=(d.avoid.width.indexOf("%")?parseInt(d.avoid.width):D(d.avoid.width))/2,b=(d.avoid.height.indexOf("%")?parseInt(d.avoid.height):D(d.avoid.height))/2,avoidAreaCache={minX:g-y,maxX:g+y,minY:p-b,maxY:p+b},(d.rangeAvailableFromCenter/2<=50-avoidAreaCache.minX+5||d.rangeAvailableFromCenter/2<=50-avoidAreaCache.minY+5)&&(console.error("WordLoader: avoid area is too big respect of the allowed area. Avoid option will be disabled, increase rangeAvailableFromCenter or decrease the avoid area"),d.avoid=!1)}catch(e){console.error("WordLoader: Wrong avoid option configuration",e)}this.stopLoop=function(){x=!0,e.classList.add("hidden"),clearInterval(C),setTimeout(function(){d.debug?(e.style.zIndex=-1,console.debug("WordLoader: stopped and in debug mode",this)):e.parentElement.removeChild(e)},d.overlayFadingDuration)},d.debug&&(this.options=d,this.element=e,this.show=function(){x=!1,e.removeAttribute("style"),e.classList.remove("hidden"),T()},function(){if(d.avoid){var o=document.createElement("div");o.style.position="absolute",o.style.top=avoidAreaCache.minY+"%",o.style.left=avoidAreaCache.minX+"%",o.style.width=avoidAreaCache.maxX-avoidAreaCache.minX+"%",o.style.height=avoidAreaCache.maxY-avoidAreaCache.minY+"%",o.style.zIndex=999999,o.style.background="rgba(255,0,0,.5)",o.style.padding=".5em",o.style.fontSize=".8em",o.style.boxSizing="border-box",o.innerText="This is the Avoid Area",e.appendChild(o)}else console.debug("WordLoader: no avoid setting defined")}(),window.wloaders?window.wloaders.push(this):window.wloaders=[this],console.debug("WordLoader: istance available in window.wloaders with index",window.wloaders.length-1),console.log('WordLoader: to see debug info activate the "Verbose" filter in the console'))}else console.error(e,"invalid or not found in DOM");function A(){if(d.minimumTime>0){let e=(new Date).getTime()-a.startedAt;if(e<d.minimumTime)return setTimeout(a.stopLoop,d.minimumTime-e),void(d.debug&&console.debug("WordLoader: waiting other",d.minimumTime-e,"before closing becase of the minimumTime option"))}a.stopLoop()}function T(){x||(h&&m[h].classList.remove("shown"),setTimeout(function(){if(!x){h=function(){l.length>=d.words.length&&(l=[]);let e=d.words.filter(e=>!l.includes(e)),o=e[F(0,e.length)];return l.push(o),o}(),i=0;var o=function o(){var a=d.rangeAvailableFromCenter/2,n=F(50-a,50+a),t=F(50-a,50+a);if(d.rangeDistanceFalseRandom){if(c)for(;Math.abs(n-c.x)<=d.rangeDistanceFalseRandom&&Math.abs(t-c.y)<=d.rangeDistanceFalseRandom;)n=F(50-a,50+a),t=F(50-a,50+a);c={x:n,y:t}}return function(o,a,n){if(!d.avoid||i>=maxAvoidPerIteration)return!1;if(i++,L(o,avoidAreaCache.minX,avoidAreaCache.maxX)&&L(a,avoidAreaCache.minY,avoidAreaCache.maxY))return!0;var t=document.createElement("div");t.innerText=n,t.className=d.wordClasses.replace(/ /g,"."),t.style.zIndex=-9,t.style.top="-99vw",t.style.left="-99vh",e.appendChild(t);var r={width:D(1.5*t.offsetWidth),height:D(1.5*t.offsetHeight)};return e.removeChild(t),o<avoidAreaCache.maxX&&o+r.width>avoidAreaCache.minX&&a<avoidAreaCache.maxY&&a+r.height>avoidAreaCache.minY}(n,t,h)?o():{x:n+"%",y:t+"%"}}();m[h].style.top=o.y,m[h].style.left=o.x,m[h].classList.add("shown"),setTimeout(function(){x||setTimeout(T,d.timeout)},d.fadingDuration)}},d.fadingDuration))}function D(e){return parseInt(e)/(window.innerWidth/100)}function L(e,o,a){return e>=o&&e<=a}function F(e,o){return Math.floor(Math.random()*(o-e))+e}};